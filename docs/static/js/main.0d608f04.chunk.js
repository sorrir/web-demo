(this["webpackJsonpmvp-web"]=this["webpackJsonpmvp-web"]||[]).push([[0],{252:function(e,t,n){e.exports=n(523)},257:function(e,t,n){},301:function(e,t){},303:function(e,t){},337:function(e,t){},339:function(e,t){},354:function(e,t){},356:function(e,t){},366:function(e,t){},368:function(e,t){},413:function(e,t){},415:function(e,t){},443:function(e,t){},445:function(e,t){},446:function(e,t){},451:function(e,t){},453:function(e,t){},460:function(e,t){},462:function(e,t){},480:function(e,t){},483:function(e,t){},499:function(e,t){},502:function(e,t){},518:function(e,t,n){},523:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(14),c=n.n(o),l=(n(257),n(119)),i=n(43),s=n(565),u=n(557),m=n(233),p=n(571),f=n(566),v=n(567),E=n(56),d=n(7),b=(n(518),n(559)),S=n(560),O=n(561),g=n(573),h=n(575),j=n(570),C=n(239),B=n.n(C),y=n(236),_=n.n(y),D=Object(m.a)((function(e){return Object(p.a)({card:{margin:e.spacing(2),minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},formControl:{margin:e.spacing(1),minWidth:120}})})),w=function(e){return r.a.createElement("div",null,r.a.createElement("p",null,"Discrete State: ",JSON.stringify(e.s.state.fsm)),r.a.createElement("p",null,"Complex State: ",JSON.stringify(e.s.state.my)))};var N=function(e){return r.a.createElement("div",{className:"Component-EventBox"},r.a.createElement("div",null,"Events:"),r.a.createElement("div",{className:"Component-EventList"},e.events&&e.events.map((function(t){return r.a.createElement("div",null,t.port,".",t.type,r.a.createElement(u.a,{size:"small",onClick:function(){return e.dequeue(t)}},r.a.createElement(_.a,null)))}))))},R=function(e){var t,n=Object(a.useState)(""),o=Object(i.a)(n,2),c=o[0],l=o[1],s=Object(a.useState)(""),m=Object(i.a)(s,2),p=m[0],f=m[1],v=D();return r.a.createElement(b.a,{className:v.card},r.a.createElement(S.a,null,"Component: ",e.c.name,void 0!==e.c_state.state.fsm?r.a.createElement(w,{s:e.c_state}):JSON.stringify(e.c_state),r.a.createElement(N,{events:null===(t=e.c_state)||void 0===t?void 0:t.events,dequeue:e.dequeue}),r.a.createElement("div",{className:"Component-EventEnqueue"},r.a.createElement(O.a,{className:v.formControl},r.a.createElement(g.a,{id:"port-select-label"},"Port:"),r.a.createElement(j.a,{labelId:"port-select-label",id:"port-select",value:c,onChange:function(e){l(e.target.value)}},r.a.createElement(h.a,{value:void 0},r.a.createElement("em",null,"Internal")),e.c.ports.map((function(e){return r.a.createElement(h.a,{value:e.name},e.name)})))),r.a.createElement(O.a,{className:v.formControl},r.a.createElement(g.a,{id:"event-select-label"},"Event:"),r.a.createElement(j.a,{labelId:"event-select-label",id:"event-select",value:p,onChange:function(e){return f(e.target.value)}},Object.keys(e.eventTypes).map((function(e){return r.a.createElement(h.a,{value:e.toString()},e.toString())})))),r.a.createElement(u.a,{size:"small",onClick:function(){return e.enqueue(e.c,{type:e.eventTypes[p],port:c})}},r.a.createElement(B.a,null)))))},T=n(572),k=n(564),P=n(568),I=n(569),z=Object(m.a)((function(e){return Object(p.a)({content:{flexGrow:1,height:"100vh",overflow:"auto"},grow:{flexGrow:1},inputColor:{color:"#E2E2E2"}})})),q=function(){Object(a.useEffect)((function(){var e=document.createElement("script");return e.src="http://webgraphviz.com//viz.js",e.async=!0,document.body.appendChild(e),function(){document.body.removeChild(e)}}),[]);var e={components:[d.barrier,d.DSB,d.sensor,d.user],connections:[Object(d.createConnection)(d.sensor,d.SensorPorts.TO_DSB,d.DSB,d.DSB_Ports.FROM_SENSOR),Object(d.createConnection)(d.DSB,d.DSB_Ports.TO_BARRIER,d.barrier,d.BarrierPorts.FROM_DSB),Object(d.createConnection)(d.DSB,d.DSB_Ports.TO_USER,d.user,d.UserPorts.FROM_DSB),Object(d.createConnection)(d.user,d.UserPorts.TO_DSB,d.DSB,d.DSB_Ports.FROM_USER)]},t={componentState:new Map([[d.barrier,d.barrier_state],[d.sensor,d.sensor_startstate],[d.DSB,d.DSB_state],[d.user,d.user_startstate]])},n=Object(a.useState)(E.cloneDeep(t)),o=Object(i.a)(n,2),c=o[0],m=o[1],p=Object(a.useState)(""),b=Object(i.a)(p,2),S=b[0],O=b[1],g=Object(a.useState)(10),h=Object(i.a)(g,2),j=h[0],C=h[1];function B(e,t){var n=Object(l.a)({},c),a=n.componentState.get(e);void 0!==a&&a.events.push(t),m(n)}var y=function(e){return function(t){return function(e,t){var n=Object(l.a)({},c),a=n.componentState.get(e);void 0!==a&&E.pull(a.events,t),m(n)}(e,t)}},_=new Map;_.set(d.barrier,d.BarrierEventTypes),_.set(d.DSB,d.DSBEventTypes),_.set(d.sensor,d.SensorEventTypes),_.set(d.user,d.UserEventTypes);var D=z();return r.a.createElement("div",null,r.a.createElement(k.a,null),r.a.createElement(s.a,{position:"fixed"},r.a.createElement(f.a,null,r.a.createElement(v.a,{variant:"h6"},"SORRIR Demo"),r.a.createElement("div",{className:D.grow}),r.a.createElement(u.a,{color:"inherit",onClick:function(){m(Object(d.configurationStep)(e,c))}},"Step"),r.a.createElement(u.a,{color:"inherit",onClick:function(){m(E.cloneDeep(t)),O("")}},"Reset"),r.a.createElement("div",{className:D.grow}),r.a.createElement("form",{noValidate:!0,autoComplete:"off"},r.a.createElement(T.a,{InputProps:{className:D.inputColor},InputLabelProps:{className:D.inputColor},id:"outlined-basic",label:"Size",type:"number",variant:"outlined",size:"small",defaultValue:j,onChange:function(e){return C(+e.target.value)}})),r.a.createElement(u.a,{color:"inherit",onClick:function(){var t=Object(d.depGraphToDot)(Object(d.stateSpace)(e,c,d.allConfigurationSteps,j)),n=Viz(t,"svg");O(n)}},"StateSpace"))),r.a.createElement(f.a,null),r.a.createElement("main",{className:D.content},r.a.createElement(P.a,{container:!0,justify:"center",spacing:3},e.components.map((function(e){return r.a.createElement(P.a,{item:!0},r.a.createElement(R,{c:e,c_state:c.componentState.get(e),eventTypes:_.get(e)||{},enqueue:B,dequeue:y(e)}))}))),r.a.createElement(I.a,null,r.a.createElement("div",{id:"statespace",dangerouslySetInnerHTML:{__html:S}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[252,1,2]]]);
//# sourceMappingURL=main.0d608f04.chunk.js.map